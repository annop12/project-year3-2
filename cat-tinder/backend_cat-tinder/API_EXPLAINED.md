# üê± Cat Tinder API - ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢

## üìö ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç
1. [Endpoint ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?](#endpoint-‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£)
2. [HTTP Methods (GET, POST, PUT, DELETE)](#http-methods)
3. [Headers ‡πÅ‡∏•‡∏∞ Body](#headers-‡πÅ‡∏•‡∏∞-body)
4. [API Endpoints ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î](#api-endpoints-‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)

---

## Endpoint ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

**Endpoint** ‡∏Ñ‡∏∑‡∏≠ URL ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Backend

‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà" ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏´‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
http://localhost:4000/api/swipes
```

‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô:
- `http://localhost:4000` = ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á server
- `/api/swipes` = ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á (endpoint) ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á

---

## HTTP Methods

‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á" ‡∏ó‡∏µ‡πà‡∏ö‡∏≠‡∏Å server ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£

| Method | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á |
|--------|----------|----------|
| **GET** | **‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** (‡∏î‡∏π, ‡∏≠‡πà‡∏≤‡∏ô) | ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ matches |
| **POST** | **‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà** | ‡∏™‡∏£‡πâ‡∏≤‡∏á swipe ‡πÉ‡∏´‡∏°‡πà |
| **PUT** | **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏°‡∏ß |
| **DELETE** | **‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** | ‡∏•‡∏ö‡πÅ‡∏°‡∏ß‡∏≠‡∏≠‡∏Å |

---

## Headers ‡πÅ‡∏•‡∏∞ Body

### Headers
‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡∏£‡∏¥‡∏°" ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏Å‡∏±‡∏ö request

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Headers ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ:**
```
Content-Type: application/json    ‚Üí ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö JSON
x-owner-id: 68dd76c3...           ‚Üí ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô owner ‡∏Ñ‡∏ô‡πÑ‡∏´‡∏ô (‡πÅ‡∏ó‡∏ô login)
```

### Body
‡∏Ñ‡∏∑‡∏≠ "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•" ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÉ‡∏´‡πâ server (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö POST, PUT)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Body:**
```json
{
  "swiperCatId": "123",
  "targetCatId": "456",
  "action": "like"
}
```

---

## API Endpoints ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

---

## 1. üè• Health Check

### `GET /health`

**‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡πÄ‡∏Ñ‡∏≤‡∏∞‡∏õ‡∏£‡∏∞‡∏ï‡∏π" ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏°

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÉ‡∏ä‡πâ:**
- ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö API ‡∏≠‡∏∑‡πà‡∏ô‡πÜ
- ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ß‡πà‡∏≤ server ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏°

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```bash
GET http://localhost:4000/health
```

**Response ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:**
```json
{
  "ok": true,
  "message": "API is running üöÄ"
}
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
- `ok: true` = server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ = server ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

---

## 2. üëÜ Swipe System

---

### `POST /api/swipes`

**‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£ "‡∏õ‡∏±‡∏î" ‡πÅ‡∏°‡∏ß (like ‡∏´‡∏£‡∏∑‡∏≠ pass)
- **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏°‡∏µ match ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà**

**Logic ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**
1. ‡πÄ‡∏£‡∏≤‡∏™‡πà‡∏á swipe ‡πÑ‡∏õ (like ‡∏´‡∏£‡∏∑‡∏≠ pass)
2. Server ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤ swipe ‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß
3. **‡∏ñ‡πâ‡∏≤ action = "like"** ‚Üí Server ‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤:
   - ‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏õ like ‡∏°‡∏±‡∏ô‡πÄ‡∏Ñ‡∏¢ like ‡πÄ‡∏£‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
   - **‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏¢ like ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß** ‚Üí **‡∏™‡∏£‡πâ‡∏≤‡∏á match!** üíï
   - **‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢** ‚Üí ‡πÑ‡∏°‡πà‡∏°‡∏µ match, ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡∏µ‡∏Å‡∏ù‡∏±‡πà‡∏á like ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤

**Headers ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á:**
```
x-owner-id: YOUR_OWNER_ID    ‚Üí ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô owner ‡∏Ñ‡∏ô‡πÑ‡∏´‡∏ô
Content-Type: application/json
```

**Body ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á:**
```json
{
  "swiperCatId": "ID_‡∏Ç‡∏≠‡∏á‡πÅ‡∏°‡∏ß‡πÄ‡∏£‡∏≤",     // ‡πÅ‡∏°‡∏ß‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ swipe
  "targetCatId": "ID_‡∏Ç‡∏≠‡∏á‡πÅ‡∏°‡∏ß‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢", // ‡πÅ‡∏°‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ swipe
  "action": "like"                     // "like" ‡∏´‡∏£‡∏∑‡∏≠ "pass"
}
```

**Response ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 1: Like ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà match**
```json
{
  "success": true,
  "swipe": {
    "swiperOwnerId": "...",
    "swiperCatId": "...",
    "targetCatId": "...",
    "action": "like",
    "createdAt": "2025-10-01T..."
  },
  "match": {
    "matched": false  // ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà match ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏µ‡∏Å‡∏ù‡∏±‡πà‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà like ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤
  }
}
```

**Response ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 2: Like ‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏¥‡∏î MATCH! üíï**
```json
{
  "success": true,
  "swipe": { ... },
  "match": {
    "matched": true,           // üéâ MATCH ‡πÅ‡∏•‡πâ‡∏ß!
    "matchId": "68dd75fb...",  // ID ‡∏Ç‡∏≠‡∏á match (‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°)
    "matchData": {
      "catAId": { "name": "Milo", ... },
      "catBId": { "name": "Bella", ... },
      "ownerAId": { "displayName": "Demo User", "contact": {...} },
      "ownerBId": { "displayName": "Alice", "contact": {...} }
    }
  }
}
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**

**Scenario 1: Owner1's Milo likes Owner2's Bella**
```json
POST /api/swipes
Headers: x-owner-id: 68dd76c3ac4c1735681025f0
Body: {
  "swiperCatId": "68dd76c3ac4c1735681025f5",  // Milo
  "targetCatId": "68dd76c3ac4c1735681025fb",  // Bella
  "action": "like"
}
```
‚Üí Response: `"matched": false` (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Bella ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà like ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤)

**Scenario 2: Owner2's Bella likes Milo back**
```json
POST /api/swipes
Headers: x-owner-id: 68dd76c3ac4c1735681025f3
Body: {
  "swiperCatId": "68dd76c3ac4c1735681025fb",  // Bella
  "targetCatId": "68dd76c3ac4c1735681025f5",  // Milo
  "action": "like"
}
```
‚Üí Response: `"matched": true` üéâ (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Milo ‡πÄ‡∏Ñ‡∏¢ like Bella ‡πÅ‡∏•‡πâ‡∏ß!)

**Error ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÄ‡∏à‡∏≠:**

1. **Duplicate swipe**
```json
{
  "error": "Duplicate swipe",
  "message": "You already swiped this cat"
}
```
‚Üí **‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤:** ‡πÄ‡∏£‡∏≤‡πÄ‡∏Ñ‡∏¢ swipe ‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ swipe ‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ

2. **Forbidden**
```json
{
  "error": "Forbidden",
  "message": "This cat does not belong to you"
}
```
‚Üí **‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤:** ‡πÅ‡∏°‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á swipe ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏°‡∏ß‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ (‡πÉ‡∏ä‡πâ owner ID ‡∏ú‡∏¥‡∏î)

3. **Not found**
```json
{
  "error": "Not found",
  "message": "Target cat not found"
}
```
‚Üí **‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤:** ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö (targetCatId ‡∏ú‡∏¥‡∏î)

---

### `GET /api/swipes/history`

**‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
- ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ swipe ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏õ‡∏±‡∏î" ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏Ñ‡∏¢‡∏õ‡∏±‡∏î‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏°‡∏≤‡∏ö‡πâ‡∏≤‡∏á

**Headers ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á:**
```
x-owner-id: YOUR_OWNER_ID
```

**Query Parameters (‡∏™‡πà‡∏á‡πÉ‡∏ô URL - ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö):**
```
?limit=50        ‚Üí ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏Ñ‡πà 50 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (default: 50)
?skip=0          ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏Å‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö pagination)
?catId=...       ‚Üí ‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡πÉ‡∏î‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á
?action=like     ‚Üí ‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ "like" ‡∏´‡∏£‡∏∑‡∏≠ "pass"
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```bash
GET /api/swipes/history?limit=10&action=like
```
‚Üí ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ swipe 10 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô "like"

**Response:**
```json
{
  "success": true,
  "swipes": [
    {
      "_id": "...",
      "swiperCatId": {
        "name": "Milo",
        "gender": "male",
        "breed": "Persian"
      },
      "targetCatId": {
        "name": "Bella",
        "gender": "female",
        "breed": "British Shorthair"
      },
      "action": "like",
      "createdAt": "2025-10-01T18:42:03.170Z"
    }
  ],
  "pagination": {
    "total": 1,        // ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
    "limit": 10,       // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Å‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
    "skip": 0,         // ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏Å‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
    "hasMore": false   // ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
  }
}
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ Response:**
- `swipes` = array ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£ swipe ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- ‡πÅ‡∏ï‡πà‡∏•‡∏∞ swipe ‡∏à‡∏∞‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á:
  - `swiperCatId` = ‡πÅ‡∏°‡∏ß‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏ó‡∏µ‡πà swipe
  - `targetCatId` = ‡πÅ‡∏°‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏õ swipe
  - `action` = "like" ‡∏´‡∏£‡∏∑‡∏≠ "pass"
  - `createdAt` = ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà swipe

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÉ‡∏ä‡πâ:**
- ‡∏≠‡∏¢‡∏≤‡∏Å‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤ like ‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡πÑ‡∏õ‡∏ö‡πâ‡∏≤‡∏á
- ‡∏≠‡∏¢‡∏≤‡∏Å‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏Ñ‡∏¢ pass ‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡πÑ‡∏ß‡πâ
- Debug ‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤ swipe ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

---

## 3. üíï Match System

---

### `GET /api/matches`

**‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
- ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ **matches ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î** ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß"

**Headers:**
```
x-owner-id: YOUR_OWNER_ID
```

**Query Parameters:**
```
?limit=50   ‚Üí ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
?skip=0     ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏Å‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (pagination)
```

**Response:**
```json
{
  "success": true,
  "matches": [
    {
      "_id": "68dd75fb...",         // Match ID
      "catAId": {
        "name": "Milo",
        "gender": "male",
        "ageMonths": 18,
        "breed": "Persian",
        "photos": []
      },
      "catBId": {
        "name": "Bella",
        "gender": "female",
        "ageMonths": 16,
        "breed": "British Shorthair"
      },
      "ownerAId": {
        "displayName": "Demo User",
        "avatarUrl": null
      },
      "ownerBId": {
        "displayName": "Alice",
        "avatarUrl": null
      },
      "lastMessageAt": "2025-10-01T...",  // ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
      "createdAt": "2025-10-01T18:42:03..."
    }
  ],
  "pagination": {
    "total": 1,
    "limit": 50,
    "skip": 0,
    "hasMore": false
  }
}
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
- `catAId` ‡πÅ‡∏•‡∏∞ `catBId` = ‡πÅ‡∏°‡∏ß 2 ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà match ‡∏Å‡∏±‡∏ô
- `ownerAId` ‡πÅ‡∏•‡∏∞ `ownerBId` = ‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á 2 ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà match ‡∏Å‡∏±‡∏ô
- `lastMessageAt` = ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (‡πÉ‡∏ä‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á matches ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏¢‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô)

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÉ‡∏ä‡πâ:**
- ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤ "Matches" ‡πÉ‡∏ô app
- ‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏°‡∏µ match ‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£‡∏ö‡πâ‡∏≤‡∏á

---

### `GET /api/matches/:id`

**‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
- ‡∏î‡∏π**‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ï‡πá‡∏°**‡∏Ç‡∏≠‡∏á match ‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÜ
- ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÄ‡∏ä‡πà‡∏ô **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠** ‡∏Ç‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏ù‡∏±‡πà‡∏á

**Headers:**
```
x-owner-id: YOUR_OWNER_ID
```

**URL:**
```
GET /api/matches/68dd75fb87f4b399c7200199
                 ‚îî‚îÄ Match ID
```

**Response:**
```json
{
  "success": true,
  "match": {
    "_id": "68dd75fb...",
    "catAId": {
      "name": "Milo",
      "gender": "male",
      "location": {
        "province": "Bangkok",
        "district": "...",
        "lat": 13.7563,
        "lng": 100.5018
      }
    },
    "catBId": {
      "name": "Bella",
      "gender": "female",
      "location": { ... }
    },
    "ownerAId": {
      "displayName": "Demo User",
      "contact": {
        "lineId": "demo_line",       // üîì ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠!
        "phone": "0812345678",
        "facebookUrl": "facebook.com/demo"
      }
    },
    "ownerBId": {
      "displayName": "Alice",
      "contact": {
        "lineId": "alice_line",
        "phone": "0898765432"
      }
    }
  }
}
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
- **‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å GET /api/matches:**
  - Endpoint ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÑ‡∏î‡πâ **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠** (Line ID, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£, Facebook)
  - ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• **‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà** ‡∏Ç‡∏≠‡∏á‡πÅ‡∏°‡∏ß (province, lat, lng)

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÉ‡∏ä‡πâ:**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î match
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢
- ‡∏î‡∏π‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á‡πÅ‡∏°‡∏ß

**Security:**
- **‡∏ï‡πâ‡∏≠‡∏á match ‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô** ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà match ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‡∏à‡∏∞‡πÑ‡∏î‡πâ error 404

---

### `GET /api/matches/:id/messages`

**‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
- ‡∏î‡∏π**‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î**‡πÉ‡∏ô match
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î "‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó" ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà match

**Headers:**
```
x-owner-id: YOUR_OWNER_ID
```

**URL:**
```
GET /api/matches/68dd75fb.../messages
```

**Query Parameters:**
```
?limit=100   ‚Üí ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (default: 100)
?skip=0      ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏Å‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°)
```

**Response:**
```json
{
  "success": true,
  "messages": [
    {
      "_id": "68dd762c...",
      "matchId": "68dd75fb...",
      "senderOwnerId": {
        "_id": "68dd76c3...",
        "displayName": "Demo User",
        "avatarUrl": null
      },
      "text": "Hello! Your cat Bella is so cute! üê±",
      "read": false,                         // ‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
      "sentAt": "2025-10-01T18:42:52.294Z"  // ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á
    }
  ],
  "pagination": {
    "total": 1,
    "limit": 100,
    "skip": 0,
    "hasMore": false
  }
}
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
- `messages` = array ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å**‡πÄ‡∏Å‡πà‡∏≤ ‚Üí ‡πÉ‡∏´‡∏°‡πà**
- ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏µ:
  - `senderOwnerId` = ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á
  - `text` = ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
  - `read` = ‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ implement logic ‡∏≠‡πà‡∏≤‡∏ô)
  - `sentAt` = ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà/‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á

**‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÉ‡∏ä‡πâ:**
- ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ä‡∏ó
- ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (scroll ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô)

**Pagination:**
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÉ‡∏ä‡πâ `limit` ‡πÅ‡∏•‡∏∞ `skip` ‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô
- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÇ‡∏´‡∏•‡∏î 100 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏Å
  ```
  GET /api/matches/xxx/messages?limit=100&skip=0
  ```
- ‡πÇ‡∏´‡∏•‡∏î 100 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:
  ```
  GET /api/matches/xxx/messages?limit=100&skip=100
  ```

---

### `POST /api/matches/:id/messages`

**‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:**
- **‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°**‡πÉ‡∏ô match
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏™‡πà‡∏á

**Headers:**
```
x-owner-id: YOUR_OWNER_ID
Content-Type: application/json
```

**URL:**
```
POST /api/matches/68dd75fb.../messages
```

**Body:**
```json
{
  "text": "Hello! Your cat is so cute! üê±"
}
```

**Response:**
```json
{
  "success": true,
  "message": {
    "_id": "68dd762c...",
    "matchId": "68dd75fb...",
    "senderOwnerId": {
      "_id": "68dd76c3...",
      "displayName": "Demo User"
    },
    "text": "Hello! Your cat is so cute! üê±",
    "read": false,
    "sentAt": "2025-10-01T18:42:52.294Z"
  }
}
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
1. ‡∏™‡πà‡∏á text ‡πÑ‡∏õ
2. Server ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
3. **Update `lastMessageAt`** ‡πÉ‡∏ô match (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ match ‡∏ô‡∏µ‡πâ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô)
4. Return ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤

**Validation:**
- `text` ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤
- ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÉ‡∏ô match ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏™‡πà‡∏á‡πÑ‡∏î‡πâ

**Error ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÄ‡∏à‡∏≠:**
```json
{
  "error": "Invalid input",
  "message": "Message text is required"
}
```
‚Üí **‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤:** ‡∏™‡πà‡∏á text ‡∏ß‡πà‡∏≤‡∏á‡∏°‡∏≤

```json
{
  "error": "Not found",
  "message": "Match not found or you do not have access to it"
}
```
‚Üí **‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤:** match ID ‡∏ú‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà match ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤

---

## üìä Flow ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### Scenario: ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÅ‡∏°‡∏ß Milo ‡∏Å‡∏±‡∏ö Bella

```
1. Owner1 ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏°‡∏ß
   ‚Üí ‡πÄ‡∏´‡πá‡∏ô Bella
   
2. Owner1 ‡∏õ‡∏±‡∏î "Like" Bella
   ‚Üí POST /api/swipes
   Body: { swiperCatId: Milo, targetCatId: Bella, action: "like" }
   Response: { "matched": false }  // ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà match
   
3. Owner2 ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏°‡∏ß
   ‚Üí ‡πÄ‡∏´‡πá‡∏ô Milo
   
4. Owner2 ‡∏õ‡∏±‡∏î "Like" Milo
   ‚Üí POST /api/swipes
   Body: { swiperCatId: Bella, targetCatId: Milo, action: "like" }
   Response: { "matched": true, "matchId": "xxx" }  // üéâ MATCH!
   
5. Owner1 ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ Matches
   ‚Üí GET /api/matches
   Response: [ { catAId: Milo, catBId: Bella, ... } ]
   
6. Owner1 ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏î‡∏π match
   ‚Üí GET /api/matches/xxx
   Response: { ownerBId: { contact: { lineId: "...", phone: "..." } } }
   
7. Owner1 ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
   ‚Üí POST /api/matches/xxx/messages
   Body: { text: "Hello!" }
   
8. Owner2 ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ä‡∏ó
   ‚Üí GET /api/matches/xxx/messages
   Response: [ { text: "Hello!", senderOwnerId: Owner1 } ]
   
9. Owner2 ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
   ‚Üí POST /api/matches/xxx/messages
   Body: { text: "Hi! Nice to meet you!" }
```

---

## üîê Authentication (‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ)

**‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:** ‡πÉ‡∏ä‡πâ `x-owner-id` ‡πÉ‡∏ô Header ‡πÅ‡∏ó‡∏ô JWT

```
x-owner-id: 68dd76c3ac4c1735681025f0
```

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:** "‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠ owner ‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ"

**‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï:** 
- ‡∏à‡∏∞‡∏°‡∏µ Login/Register API
- ‡πÑ‡∏î‡πâ JWT Token ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤
- ‡πÉ‡∏ä‡πâ Token ‡πÅ‡∏ó‡∏ô x-owner-id

---

## ‚ùì ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏≤‡∏°‡∏ö‡πà‡∏≠‡∏¢

### Q1: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ x-owner-id?
**A:** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å server ‡∏ß‡πà‡∏≤ "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏Ñ‡∏£" ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô
- Swipe ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì vs Swipe ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô
- Matches ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì vs Matches ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô

### Q2: Swipe ‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?
**A:** **‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ!** ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô‡∏õ‡∏±‡∏î‡πÅ‡∏°‡∏ß‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (like ‡∏´‡∏£‡∏∑‡∏≠ pass ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á)

### Q3: Match ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞ unmatch ‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?
**A:** ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö unmatch (‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)

### Q4: ‡∏ó‡∏≥‡πÑ‡∏° GET /api/matches ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠?
**A:** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î bandwidth ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
- GET /api/matches ‚Üí ‡∏î‡∏π‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠)
- GET /api/matches/:id ‚Üí ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ï‡πá‡∏° (‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠)

### Q5: ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡πâ‡∏ß read status ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?
**A:** ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö mark as read (‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)

---

## üéØ Tips ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

1. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö swipe ‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô:**
   - Owner1 like Owner2's cat ‚Üí ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà match
   - Owner2 like ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ‚Üí match!

2. **‡πÄ‡∏Å‡πá‡∏ö match_id ‡πÑ‡∏ß‡πâ:**
   - ‡∏´‡∏•‡∏±‡∏á match ‡πÅ‡∏•‡πâ‡∏ß copy matchId ‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÉ‡∏ô Environment
   - ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢

3. **‡∏•‡∏≠‡∏á Error cases:**
   - Swipe ‡∏ã‡πâ‡∏≥ ‚Üí "Duplicate swipe"
   - ‡πÉ‡∏ä‡πâ owner ID ‡∏ú‡∏¥‡∏î ‚Üí "Forbidden"
   - Match ID ‡∏ú‡∏¥‡∏î ‚Üí "Not found"

4. **Reset ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**
   ```bash
   npm run seed
   ```
   - ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏¥‡πâ‡∏á
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
   - ‡πÑ‡∏î‡πâ owner IDs ‡πÅ‡∏•‡∏∞ cat IDs ‡πÉ‡∏´‡∏°‡πà

---

## üìñ ‡∏™‡∏£‡∏∏‡∏õ

| Endpoint | Method | ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ | ‡∏™‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏õ |
|----------|--------|---------|-----------|
| `/health` | GET | ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö server | - |
| `/api/swipes` | POST | ‡∏õ‡∏±‡∏î‡πÅ‡∏°‡∏ß + ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö match | swiperCatId, targetCatId, action |
| `/api/swipes/history` | GET | ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏õ‡∏±‡∏î | - |
| `/api/matches` | GET | ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ matches | - |
| `/api/matches/:id` | GET | ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î match | - |
| `/api/matches/:id/messages` | GET | ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° | - |
| `/api/matches/:id/messages` | POST | ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° | text |

---

‡∏´‡∏ß‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö! üòä

‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö! üê±
